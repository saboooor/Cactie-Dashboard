generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "mysql"
  url       = env("DATABASE_URL")
  directUrl = env("DATABASE_URL_DIRECT")
}

model tickets {
  guildId     String
  channelId   String @unique(map: "channelId")
  opener      String
  resolved    String @default("false")
  users       String @db.Text
  voiceticket String @default("false")

  @@unique([opener, guildId], map: "noChannelId")
}

model settings {
  guildId           String @unique(map: "guildId")
  reactions         String @default("[{\"regex\":\"/(?=.*\\b(bad|gross|shit|dum)\\b)(?=.*\\bcactie\\b).*/i\",\"emojis\":[\"ðŸ‡³\",\"ðŸ‡´\"]},{\"regex\":\"/\\b(mad|madd|angry|angri|kill|punch|evil)(er|ing|s)?\\b/i\",\"emojis\":[\"899340907432792105\"]},{\"regex\":\"/shoto/i\",\"emojis\":[\"867259182642102303\",\"ðŸ˜©\"]},{\"regex\":\"/\\b(love|lov|ily|simp|kiss|cute)(t|r|er|ing|s)?\\b/i\",\"emojis\":[\"896483408753082379\"]}]") @db.Text
  leavemessage      String @default("{\"message\":\"\",\"channel\":\"false\"}") @db.Text
  joinmessage       String @default("{\"message\":\"\",\"channel\":\"false\"}") @db.Text
  tickets           String @default("{\"enabled\":true,\"type\":\"buttons\",\"logchannel\":\"false\",\"category\":\"false\",\"role\":\"false\",\"mention\":\"here\",\"count\":1}") @db.Text
  voicechats        String @default("{\"type\":\"private\",\"category\":\"false\"}") @db.Text
  auditlogs         String @default("{\"channel\":\"false\",\"logs\":{}}") @db.Text
  suggestionchannel String @default("false") @db.Text
  suggestthreads    String @default("true") @db.Text
  pollchannel       String @default("false") @db.Text
  logchannel        String @default("false") @db.Text
  mutecmd           String @default("timeout") @db.Text
  msgshortener      Int    @default(30)
}

model reactionroles {
  guildId   String @db.Text
  channelId String @db.Text
  messageId String
  emojiId   String
  roleId    String @db.Text
  type      String @default("toggle") @db.Text
  silent    String @default("false") @db.Text

  @@unique([messageId, emojiId], map: "Identifier")
}

model customcmds {
  id          String  @unique(map: "id")
  guildId     String
  name        String
  description String  @default("A custom command") @db.Text
  actions     String  @default("[]") @db.Text

  @@unique([guildId, name], map: "Identifier")
}

model punishments {
  memberId    String
  guildId     String
  mutedUntil  DateTime?
  bannedUntil DateTime?
  warns       String    @db.Text @default("[]")

  @@unique([memberId, guildId], map: "Identifier")
}

model temppolls {
  channelId String
  messageId String   @unique(map: "id")
  expiresAt DateTime
}

model voicechats {
  channelId String  @unique(map: "id")
  guildId   String
  ownerId   String

  @@unique([guildId, ownerId], map: "Identifier")
}

model sessions {
  sessionId    String    @unique(map: "sessionId")
  accessToken  String    @unique(map: "accessToken")
  refreshToken String?   @db.Text
  expiresAt    DateTime? @db.DateTime(0)
  scope        String?   @db.Text
  pfp          String?   @default("https://cdn.discordapp.com/embed/avatars/0.png") @db.Text
  accent       String?   @db.Text
}